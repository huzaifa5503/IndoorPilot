<!DOCTYPE html>
<html> <!-- (shift alt a to comment) we need a local server to run this page so download http server through command prompt -->
    <head>

        <title>Add a Title here</title>
        <!-- bootstrap link -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
       <!-- jquery link -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
         <!-- Link to include bootstrap for jquery  -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>    
            
            <!-- MATERIAL DESIGN ICONIC FONT -->
        <link rel="stylesheet" href="design_files/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
                
                <!-- STYLE CSS -->
        <link rel="stylesheet" href="design_files/css/style.css">
   
        <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.8.1/firebase-storage.js"></script>


    </head>
    <body>
        <div class="wrapper" style="background-image: url('design_files/images/back.jpg')";>
            <div class="inner"><!-- this div puts the form on the image in a better way -->

                <div class="image-holder">
                    <img src="design_files/images/p.png">
                </div>
                <form action="">
                    <h3>Register</h3>
                    <div class="form-wrapper">
                        <input id="email" type="email" placeholder="Email Address" class="form-control">
                        <i class="zmdi zmdi-email"></i>
                    </div>
                    <div class="form-wrapper">
                        <input id="password" type="password" placeholder="Password" class="form-control">
                        <i class="zmdi zmdi-lock"></i>
                    </div>
                    <div class="form-wrapper">
                        <input id="confirmPassword" type="email" placeholder="Confirm Password" class="form-control">
                        <i class="zmdi zmdi-lock"></i>
                    </div>
                    <div class="form-group container-login100-form-btn">
                        <button id="btn-signup" type="button">
                            Register
                            <i class="zmdi zmdi-arrow-right"></i>
                        </button>
        
                    </div>
                    <div class="w-full text-center" style="margin-top: 49%; font-size: 15px;">
                        <a href="Signin.html" class="text-dark">
                            Already have an account?
                        </a>
                    </div>
                </form>
            </div>
        </div>


        <script src="js/index.js"> </script>  <!-- if the user is authenticated send him to mainpage -->
        
        <script>
            firebase.auth().onAuthStateChanged(function(user)
            {
                    if (user) /* if the user is logged in */
                    {
                        var userID = firebase.auth().currentUser.uid;/* checking if that user exist */
                        firebase.database().ref('Users/'+ userID).once('value').then(function(snapshot)
                        {
                            if(snapshot.val()) /* if user unique ID matches send him to home page else send him to account settings page to set his account */
                            {
                                window.location.href= "MainPage.html";
                            }
                            else
                            {
                                window.location.href= "accountSettings.html";
                            }
                        });
                    }
            });
        </script>


    </body>
</html>